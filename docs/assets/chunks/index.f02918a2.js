import{B as x}from"./wz-base.0300f7d9.js";import"./index.6f4c3ccf.js";const w=`:host{display:contents}.dialog{display:flex;align-items:flex-start;gap:12px;min-width:200px;border:0;border-radius:var(--border-radius-base, 4px);box-shadow:var(--shadow, 2px 2px 15px rgba(0,0,0,.15));padding:20px 24px;visibility:hidden;opacity:0;transform:scale(.8) translateY(-50px)}.dialog::backdrop{background-color:#00000073}.dialog[open]{visibility:visible;opacity:1;transform:translateY(0);transition:var(--transition, .2s)}.icon{font-size:22px}.title{margin:0;font-size:16px;line-height:1.5}.close{position:absolute;top:12px;inset-inline-end:12px}.close::part(button){width:32px;height:32px;font-size:18px;color:var(--text-color-secondary, rgba(0, 0, 0, .45))}.close{--icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3Cpath d='M312.1 375c9.369 9.369 9.369 24.57 0 33.94s-24.57 9.369-33.94 0L160 289.9l-119 119c-9.369 9.369-24.57 9.369-33.94 0s-9.369-24.57 0-33.94L126.1 256 7.027 136.1c-9.369-9.369-9.369-24.57 0-33.94s24.57-9.369 33.94 0L160 222.1l119-119c9.369-9.369 24.57-9.369 33.94 0s9.369 24.57 0 33.94L193.9 256l118.2 119z'/%3E%3C/svg%3E") }.form{flex:1;display:flex;flex-direction:column;gap:10px}.footer{display:flex;justify-content:flex-end;gap:8px}
`;var d=globalThis&&globalThis.__classPrivateFieldSet||function(o,t,i,e,l){if(e==="m")throw new TypeError("Private method is not writable");if(e==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?o!==t||!l:!t.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e==="a"?l.call(o,i):l?l.value=i:t.set(o,i),i},s=globalThis&&globalThis.__classPrivateFieldGet||function(o,t,i,e){if(i==="a"&&!e)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?o!==t||!e:!t.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?e:i==="a"?e.call(o):e?e.value:t.get(o)},a,g,f,b,h,r;class p extends x{constructor(){super(),a.set(this,void 0),g.set(this,void 0),f.set(this,void 0),b.set(this,void 0),h.set(this,void 0),r.set(this,void 0);const t=this.attachShadow({mode:"open"});this.adoptedStyle(w),t.innerHTML=`
      <dialog class="dialog" id="dialog" part="dialog">
        <slot class="icon" name="icon" id="icon"></slot>
        <form class="form" method="dialog">
        <span id="btnClose" class="close" close type="flat">
      
      </span>
          <h4 class="title" id="title" part="title">dialog</h4>
          <slot id="content" class="content"></slot>
          <slot class="footer" name="footer" part="footer">
            <wz-button id="btnCancel" type="common" close >取消</wz-button>
            <wz-button id="btnSubmit" type="primary">确定</wz-button>
          </slot>
        </form>
      </dialog>
        `,d(this,a,t.getElementById("dialog"),"f"),d(this,g,t.getElementById("title"),"f"),d(this,f,t.querySelector("#content"),"f"),d(this,b,t.getElementById("btnClose"),"f"),d(this,h,t.getElementById("btnCancel"),"f"),d(this,r,t.getElementById("btnSubmit"),"f")}static get observedAttributes(){return["loading","open","title","content","canceltext","submittext"]}get open(){return this.getAttribute("open")!==null}get submittext(){return this.getAttribute("submittext")||"确认"}get canceltext(){return this.getAttribute("canceltext")||"取消"}get content(){return this.getAttribute("content")||""}set content(t){this.setAttribute("content",t)}set submittext(t){this.setAttribute("submittext",t)}set canceltext(t){this.setAttribute("canceltext",t)}set open(t){this.toggleAttribute("open",t)}show(){this.open=!0}close(){this.open=!1}connectedCallback(){s(this,a,"f").addEventListener("click",t=>{var i;!((i=t==null?void 0:t.target)===null||i===void 0)&&i.closest("[close]")&&(this.open=!1,this.dispatchEvent(new Event("cancel")))}),s(this,a,"f").addEventListener("close",()=>{this.open=!1,this.dispatchEvent(new Event("close")),console.log("close")}),s(this,a,"f").addEventListener("cancel",()=>{this.open=!1,this.dispatchEvent(new Event("cancel")),console.log("cancel")}),s(this,r,"f")&&s(this,r,"f").addEventListener("click",()=>{this.dispatchEvent(new Event("submit"))})}attributeChangedCallback(t,i,e){t==="open"&&(e!==null?(s(this,a,"f").showModal(),setTimeout(()=>{s(this,b,"f").focus()},50)):s(this,a,"f").close()),t==="title"&&(s(this,g,"f").textContent=e),t==="content"&&(s(this,f,"f").textContent=e),t==="canceltext"&&s(this,h,"f")&&(s(this,h,"f").textContent=e),t==="submittext"&&s(this,r,"f")&&(s(this,r,"f").textContent=e)}}a=new WeakMap,g=new WeakMap,f=new WeakMap,b=new WeakMap,h=new WeakMap,r=new WeakMap;customElements.get("wz-dialog")||customElements.define("wz-dialog",p);p.open=function({type:o="",title:t="",content:i="",submittext:e="",canceltext:l="取消",onsubmit:u=()=>{},oncancel:m=()=>{}}){const n=new this;return n.title=t,n.content=i,n.canceltext=l,o!=="confirm"?(console.log(n.shadowRoot.getElementById("btnCancel")),n.shadowRoot.getElementById("btnCancel").remove(),n.submittext=e||"知道了"):n.submittext=e||"确定",n.addEventListener("cancel",c=>{m(),c.stopPropagation(),n.remove(c)}),n.addEventListener("close",c=>{n.remove(c)}),n.addEventListener("submit",c=>{u(),c.stopPropagation(),n.remove(c)}),document.body.append(n),n.clientWidth,n.open=!0,n};p.show=function(o,...t){if(console.log(t[0]),typeof t[0]=="object")return this.open(Object.assign({type:o},t[0]));const[i,e=()=>{},l=()=>{}]=t;return this.open({type:o,title:o,content:i,onsubmit:e,oncancel:l})};p.show=function(o,...t){if(console.log(t[0]),typeof t[0]=="object")return this.open(Object.assign({type:o},t[0]));const[i,e=()=>{},l=()=>{}]=t;return this.open({type:o,title:o,content:i,onsubmit:e,oncancel:l})};p.alert=function(...o){return this.show("alert",...o)};export{p as default};
