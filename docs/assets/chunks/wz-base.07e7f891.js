var l=Object.defineProperty;var h=(s,t,e)=>t in s?l(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var n=(s,t,e)=>(h(s,typeof t!="symbol"?t+"":t,e),e);const d=`:host{--webzen-theme-color: unset}wz-popover:not(:defined){position:absolute;visibility:hidden}:not(:defined){opacity:0}
`;class r{constructor(){n(this,"hooks");this.hooks={entryOption:[],run:[],done:[]}}register(t,e){this.hooks[t].push(e)}async call(t,e){let o=this.hooks[t].length;for(let i=0;i<o;i++)await this.hooks[t][i].call(e)}}function m(s){let t=localStorage.getItem("webzen_theme");do{if(!t){let e={mode:"light"};localStorage.setItem("webzen_theme",JSON.stringify(e)),this.mode({mode:"light"})}if(t&&JSON.parse(t).mode&&!s&&this.mode({mode:JSON.parse(t).mode}),s){let e={mode:s.mode};localStorage.setItem("webzen_theme",JSON.stringify(e)),this.mode({mode:s.mode})}}while(!1)}let a=new r;a.register("run",m);class c extends HTMLElement{constructor(){super();n(this,"shadowRootInit");this.shadowRootInit=this.attachShadow({mode:"open"}),this.mount()}async mount(){const o=[...document.querySelectorAll(":not(:defined)")].map(i=>customElements.whenDefined(i.localName));await Promise.all(o),a.call("run",this),this.adoptedStyle(d)}mode(e){if(this.shadowRootInit.children.length>1)throw new Error("根元素不能超过1个");e.mode=="light"?this.shadowRootInit.children[0].classList.remove("dark"):this.shadowRootInit.children[0].classList.add("dark")}adoptedStyle(e){let o=e;e.type||(o=new CSSStyleSheet,o.replace(e)),this.shadowRoot.adoptedStyleSheets=[...this.shadowRoot.adoptedStyleSheets,o]}get name(){return this.getAttribute("name")}set name(e){this.setAttribute("name",e)}get attr(){const e=["type","class"];return[...this.attributes].filter(o=>!o.name.startsWith("on")&&!e.includes(o.name)).map(o=>o.name+"='"+(o.value||"true")+"'").join(" ")}}n(c,"urlPrefix","https://cdn.jsdelivr.net/npm/webzen-ui-icons");export{c as B};
